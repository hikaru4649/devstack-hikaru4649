[[local|localrc]]

# Minimal Contents
# ---------------------------------------
ADMIN_PASSWORD=devstack
DATABASE_PASSWORD=devstack
RABBIT_PASSWORD=devstack
SERVICE_PASSWORD=devstack

HOST_IP=192.168.2.20
SERVICE_HOST=192.168.2.20
MYSQL_HOST=192.168.2.20
RABBIT_HOST=192.168.2.20
GLANCE_HOSTPORT=192.168.2.20:9292
# ---------------------------------------

# Logging
# ---------------------------------------
LOGFILE=$DEST/logs/stack.sh.log
LOGDAYS=2
VERBOSE=True
SCREEN_LOGDIR=/opt/stack/logs
# ---------------------------------------

# Disabled services
# ---------------------------------------
disable_service n-net
# ---------------------------------------

# Tempest
# ---------------------------------------
#enable_service tempest
# ---------------------------------------

# RabbitMQ
# ---------------------------------------
#enable_service rabbit
# ---------------------------------------

# Nova
# ---------------------------------------
#enable_service nova
#enable_service n-api
#enable_service n-crt
#enable_service n-sch
#enable_service n-novnc
#enable_service n-xvnc
#enable_service n-cauth
#enable_service n-spice
#enable_service n-cond
#enable_service n-cell
#enable_service n-api-meta
#enable_service n-sproxy
# ---------------------------------------

# Glance
# ---------------------------------------
#enable_service glance
#enable_service g-api
#enable_service g-reg
#IMAGE_URLS+=",http://cloud-images.ubuntu.com/trusty/current/trusty-server-cloudimg-amd64-disk1.img"
# ---------------------------------------

# Neutron
# ---------------------------------------
enable_service neutron
enable_service q-svc
enable_service q-dhcp
enable_service q-meta
enable_service q-agt
enable_service q-l3
#enable_service q-metering
#enable_service q-fwaas
#enable_service q-vpn
#enable_service q-lbaas
#enable_plugin neutron-lbaas-dashboard https://git.openstack.org/openstack/neutron-lbaas-dashboard

Q_USE_SECGROUP=True
FLOATING_RANGE="192.168.2.0/24"
FIXED_RANGE="10.0.0.0/24"
Q_FLOATING_ALLOCATION_POOL=start=192.168.2.200,end=192.168.2.253
PUBLIC_NETWORK_GATEWAY="192.168.2.1"
Q_L3_ENABLED=True
PUBLIC_INTERFACE=eth0

# Open vSwitch provider networking configuration
Q_USE_PROVIDERNET_FOR_PUBLIC=True
OVS_PHYSICAL_BRIDGE=br-ex
PUBLIC_BRIDGE=br-ex
OVS_BRIDGE_MAPPINGS=public:br-ex

# VLAN configuration
#Q_PLUGIN=ml2
#ENABLE_TENANT_VLANS=True

# GRE tunnel configuration
#Q_PLUGIN=ml2
#ENABLE_TENANT_TUNNELS=True

# VXLAN tunnel configuration
#Q_PLUGIN=ml2
#Q_ML2_TENANT_NETWORK_TYPE=vxlan   
# ---------------------------------------

# Cinder
# ---------------------------------------
#enable_plugin cinder https://github.com/openstack/cinder stable/newton
# ---------------------------------------

# Swift
# ---------------------------------------
SWIFT_HASH=66a3d6b56c1f479c8b4e70ab5c2000f5
SWIFT_REPLICAS=1
SWIFT_DATA_DIR=$DEST/data
enable_service swift
enable_service s-proxy
enable_service s-object
enable_service s-container
enable_service s-account
# ---------------------------------------

# Heat
# ---------------------------------------
enable_plugin heat https://github.com/openstack/heat stable/newton
#enable_service heat
#enable_service h-api
#enable_service h-api-cfn
#enable_service h-api-cw
#enable_service h-eng 
#IMAGE_URLS+=",https://fedorapeople.org/groups/heat/kolla/fedora-21-atomic.qcow2"
# ---------------------------------------

# Sahara
# ---------------------------------------
enable_plugin sahara https://github.com/openstack/sahara stable/newton
enable_plugin sahara-dashboard https://github.com/openstack/sahara-dashboard stable/newton
# ---------------------------------------

# Magnum
# ---------------------------------------
enable_plugin magnum https://github.com/openstack/magnum stable/newton
enable_plugin magnum-ui https://github.com/openstack/magnum-ui stable/newton
#VOLUME_BACKING_FILE_SIZE=10G
# ---------------------------------------

# Trove
# ---------------------------------------
enable_plugin trove https://github.com/openstack/trove stable/newton
enable_plugin trove-dashboard https://github.com/openstack/trove-dashboard stable/newton
# ---------------------------------------

# Ceilometer
# ---------------------------------------
#enable_plugin ceilometer https://github.com/openstack/ceilometer stable/newton
# ---------------------------------------

# Ironic
# ---------------------------------------
#enable_plugin ironic https://github.com/openstack/ironic stable/newton
# ---------------------------------------

# Zaqar
# ---------------------------------------
#enable_plugin zaqar https://github.com/openstack/zaqar stable/newton
#enable_plugin zaqar-ui https://github.com/openstack/zaqar-ui stable/newton
# ---------------------------------------

# Manila
# ---------------------------------------
#enable_plugin manila https://github.com/openstack/manila stable/newton
#enable_plugin manila-ui https://github.com/openstack/manila-ui stable/newton
# ---------------------------------------

# Designate
# ---------------------------------------
#enable_plugin designate https://github.com/openstack/designate stable/newton
#enable_plugin designate-dashboard https://github.com/openstack/designate-dashboard stable/newton
# ---------------------------------------

# Barbican
# ---------------------------------------
#enable_plugin barbican https://github.com/openstack/barbican stable/newton
# ---------------------------------------

# Murano
# ---------------------------------------
#enable_plugin murano https://github.com/openstack/murano stable/newton
#enable_plugin murano-dashboard https://github.com/openstack/murano-dashboard stable/newton
# ---------------------------------------

# App-catalog
# ---------------------------------------
#enable_plugin app-catalog-ui https://git.openstack.org/openstack/app-catalog-ui stable/newton
# ---------------------------------------

# Congress
# ---------------------------------------
#enable_plugin congress https://github.com/openstack/congress stable/newton
# ---------------------------------------

# Searchlight
# ---------------------------------------
#enable_plugin searchlight https://github.com/openstack/searchlight stable/newton
#enable_plugin searchlight-ui https://github.com/openstack/searchlight-ui stable/newton
#enable_service searchlight-api
#enable_service searchlight-listener
# ---------------------------------------

# Freezer
# ---------------------------------------
#enable_plugin freezer https://git.openstack.org/openstack/freezer stable/newton
#enable_plugin freezer-web-ui https://github.com/openstack/freezer-web-ui stable/newton
# ---------------------------------------

# Senlin
# ---------------------------------------
#enable_plugin senlin https://git.openstack.org/openstack/senlin stable/newton
#enable_plugin senlin-dashboard https://git.openstack.org/openstack/senlin-dashboard stable/newton
# ---------------------------------------

# Vitrage
# ---------------------------------------
#enable_plugin vitrage https://git.openstack.org/openstack/vitrage stable/newton
#enable_plugin vitrage-dashboard https://git.openstack.org/openstack/vitrage-dashboard stable/newton
# ---------------------------------------

# Apache fronted for WSGI
# ---------------------------------------
#APACHE_ENABLED_SERVICES+=keystone,swift
# ---------------------------------------

# Athoer Config
# ---------------------------------------
[[post-config|$NOVA_CONF]]
[DEFAULT]
vnc_keymap=ja

[[post-config|/etc/neutron/dhcp_agent.ini]]
[DEFAULT]
dnsmasq_dns_servers = 192.168.2.1
# ---------------------------------------

# Vitrage Config
# ---------------------------------------
#[[post-config|$NEUTRON_CONF]]
#[DEFAULT]
#notification_topics = notifications,vitrage_notifications
#notification_driver=messagingv2

#[[post-config|$CINDER_CONF]]
#[DEFAULT]
#notification_topics = notifications,vitrage_notifications
#notification_driver=messagingv2

#[[post-config|$HEAT_CONF]]
#[DEFAULT]
#notification_topics = notifications,vitrage_notifications
#notification_driver=messagingv2
# ---------------------------------------
